apt update

apt upgrade -y

apt install -y python3-pip nginx git supervisor

pip3 install virtualenv

virtualenv /opt/envs/<PROJECT-NAME>

. /opt/envs/<PROJECT-NAME>/bin/activate

pip install django pillow gunicorn


git clone <FULL-GITHUB-URL> /var/www/<PROJECT-NAME>


chown -R www-data /var/www/<PROJECT-NAME>

nano /etc/nginx/sites-available/<FULL-URL>

server {
    listen 80;
    server_name server <FULL-URL>;

    location = /favicon.ico { access_log off; log_not_found off; }

    location /static {
            alias <FULL-STATIC-ROOT-PATH>;
    }

    location / {
            include proxy_params;
            proxy_pass http://unix:/var/www/<PROJECT-NAME>/<PROJECT-NAME>.sock;
    }
}



ln -s /etc/nginx/sites-available/<FULL-URL> /etc/nginx/sites-enabled

nano /etc/supervisor/conf.d/<FULL-URL>.conf

[program:<PROJECT-NAME>]
command=/opt/envs/<PROJECT-NAME>/bin/gunicorn --workers 3 --bind unix:/var/www/<PROJECT-NAME>/<PROJECT-NAME>.sock <PROJECT-NAME>.wsgi
directory=/var/www/<PROJECT-NAME>
autostart=true
autorestart=true
stderr_logfile=/var/log/<PROJECT-NAME>.err.log
stdout_logfile=/var/log/<PROJECT-NAME>.out.log

supervisorctl update
supervisorctl start <PROJECT-NAME>
supervisorctl status <PROJECT-NAME>
service nginx restart